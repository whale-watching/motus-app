{"version":3,"sources":["utils.ts","Animation.ts","Point.ts","Motus.ts","index.ts"],"names":[],"mappings":";;;;AAEa,QAAA,WAAA,GAAc,UAAC,OAAD,EAAkB,KAAlB;AAAA,QAAiC,UAAjC,uEAA8C,GAA9C;AAAA,WAAsD,UAAU,KAAV,GAAkB,UAAxE;AAAA,CAAd;ACCb,ADAa,ICAb,IDAa,MCAb,QAAA,EDAa,GAAmB,ICAhC,CAAA,KDAiC,KAAD,EAAgB,OAAhB;AAAA,QAAiC,UAAjC,uEAA8C,GAA9C;AAAA,ICEhC,ODFsF,KCQlF,KDR4F,KAAV,GAAkB,MCQxF,IDRgB,MCQ5B,EAA+B,QAA/B,EAAgD,OAAhD,EAAsE,SAAtE,EAA0F;AAAA,ADR9D,CAAnB,GEHb,QAEI,eAAY,KAAZ,EAAuC;AAAA,AFE9B,QAAA,OAAA,GAAU,UAAC,KAAD,EAA0B;ACO6C,ADN1F,QAAM,UAAU,2DAAhB;AEHuC,AFIvC,QAAI,OAAO,KAAP,KAAiB,QAArB,EAA+B;AC+CxB,AErDX,ACAA,AJOQ,IGPR,ACAA,KHqDW,KAAA,AGrDX,CJOe,EC8CI,CErDnB,CHOQ,UC8CsB,CGrD9B,IDAA,ICAA,IDAA,KCAA,CAAA,CAAA,MDAA,CAAA,CAAA;AFsDQ,AErDR,ADIW,AECX,AJEK,IGPL,GCKO,EFDI,GDiDG,AGhDd,EDLA,CCKe,IAAI,CFDR,CDiDY,ECjDE,IECN,CHgDW,EErD9B,ICKe,CHgDP,ACjDkD,CEC1D,EDLA,SAAA,CAAA,CAAA;AFsDQ,AClDkD,AEG1D,AJCI,QIDJ,AJCU,IC8CE,AClDc,GEG1B,CJCkB,EIDH,IH+CO,AD9CE,EEJkC,EEG3C,CJCG,CC8CS,AD9CG,KID9B,EJCkB,CAAd,EC8CQ,IAA6B,UAAU,MAAK,QAAhD,EAA0D,2BClDzB,KAAiB;ADmD9C,AD9CR,IGPJ,IHOQ,IGHJ,CHGA,EAAW,CC8CG,aEjDd,GFiDsC,SAAS,MAAK,UAA5C;AACA,AElDR,ADDI,AFKA,YELI,GFKG,CC8CG,ECnDD,GFKI,CAAN,CELH,AFKJ,KC8C8B,MAAK,CCnDT,ODmDI,GAAgB,CCnD9C,EAAuC,GDmDY,UAA/C;AACA,ACnDA,AFKP,gBC8Ca,ACnDA,OAAO,GDmDW,GCnDN,KDmDM,ACnDX,CAAW,UDmDA,CAAY,UCnDvB,EAAb,CDmDwB,EAA2B,SAA3B,CAAxB;AACA,AEpDR,ADCQ,AFKR,WAAO,IAAP,CC8Cc,GCnDE,eAAe,KDmDc,ACnDT,IAAL,GAAY,CDmDE,MCnDK,CDmDL,CAAQ,KCnDrC,EDmD6B,CCnDe,CDmDE,ICnDG,GDmDI,ACnDT,GAAW,CDmDT,CAAY,KCnDI,CDmDC,MCnDvE,GDmDsD,CAAjB,CAArC;AACA,ACnDH,AFKR,CAVY,mBCwDD,SAAA,CAAU,OAAO,IAAP,CAAY,MAAK,SAAjB,CAAV,EAAuC;AAAA,AExDxC,ADMH,AFKK,QAAA,CGXF,MDMI,CFKF,EGXF,CHWa,EGXD,ADMH,EDkDoC,GClDhD,CDkDoD,ED7CnC,IGXF,CHWC,EAAmC,IGXhD,OFwDwC;AAAA,AEvDxC,ADMN,AFKD,KEXO,GFWD,CGXC,IFuDC,CEvDD,CFuDuE,EEvD/D,CHWC,OGXD,GFuDmE,IEvD3E,+CHWP;AC6CY,AEvDJ,ADHJ,AFcJ,QAAI,CGXI,ADHC,KAAL,CFcO,EEdM,ECGT,CHWJ,EC4Ca,AEvDiB,ADH9B,ECGI,CHWa,QAArB,EC4CY,AD5CmB,CC4CA,MAAK,SAAL,CAAe,OAAO,IAAP,CAAY,MAAK,SAAjB,EAA4B,CAA5B,CAAf,CAAnB,EAAmE,GAAnE;AACH,AElDT,ADRC,AFcG,aC0CI,ED1CG,KAAP;AC6CI,AD5CP,kBC4CY,aAAL,CAAmB,oBAAnB,EAAyC,aAAzC,EAAwD,SAAxD;AACH,AChET,AFoBI,QEpBJ,AFoBU,CCmCF,MASO,AChEf,CFoBkB,EEpBlB,IFoBwB,CEpBxB,IFoBkB,CAAY,OAAZ,CAAd;AC4Ca,AD3Cb,QAAI,KAAJ,EAAW;AC4CH,AEjDD,AHMH,SGNG,MHMI,CC2CC,KEjDL,GAAe,AHMF,CC2CC,KD3CK,CC2CA,AD3CN,CAAT,CAAP,CGNmB,KFiDf,EAA4B,EEjDd,EAA+B;AFkDzC,AEjDR,AHMH,cGNQ,QFiDQ,EEjDb,CAAgB,IAAhB,CAAqB,KFiDb,CAAmB,GEjD3B,GFiDgC,SAAL,CAAe,OAAO,IAAP,CAAY,MAAK,SAAjB,EAA4B,CAA5B,CAAf,CAAnB,EAAmE,CAAnE;AACH,AEjDL,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","file":"motus.map","sourceRoot":"../src","sourcesContent":["import Keyframes from \"./Keyframes\";\n\nexport const percentFrom = (current: number, total: number, multiplier = 100) => current / total * multiplier;\nexport const sliceFromPercent = (value: number, percent: number, multiplier = 100) => percent * value / multiplier;\nexport const getUnit = (value: string): string => {\n    const unitReg = /[0-9]+(cm|mm|in|px|pt|pc|em|ex|ch|%|rem|vw|vh|vmin|vmax)$/;\n    if (typeof value === 'number') {\n        return null;\n    }\n    const match = value.match(unitReg);\n    if (match) {\n        return match[1];\n    }\n    return null;\n};\nexport const getValue = (value: string | number): number => {\n    const unitReg = /([0-9]+)(cm|mm|in|px|pt|pc|em|ex|ch|%|rem|vw|vh|vmin|vmax)$/;\n    if (typeof value === 'number') {\n        return value;\n    }\n    const match = value.match(unitReg);\n    if (match) {\n        return parseInt(match[1]);\n    }\n    return null;\n};\nexport const camelToKebabCase = (value: string): string => value.replace(/([A-Z])/g, $1 => '-' + $1.toLowerCase());\nexport const kebabToCamelCase = (value: string): string => value.replace(/-([a-z])/g, $1 => $1[1].toUpperCase());\nexport const closest = (value: number, arr: any[]): number => {\n    arr = arr.sort((a, b) => a - b);\n    const closestIndex = -1;\n    let i = 0;\n    while (i < arr.length) {\n        if (value < arr[i] && i === 0) { return i; }\n        if (value < arr[i] && value > arr[i - 1]) { return i; }\n        i++;\n    }\n    return closestIndex;\n};\nexport const loopWhile = (value: any[], until: (index?: number) => boolean, func: (index?: number) => void, done?: (index?: number) => void): void => {\n    let index = 0;\n    while (until(index) || index === value.length) {\n        func(index);\n        index++;\n    }\n    if (done) {\n        done(index);\n    }\n};\nexport const getElementDefaultProperty = (element: HTMLElement, property: string): any => {\n    return window.getComputedStyle(element, null).getPropertyValue(camelToKebabCase(property));\n};\nexport const previousKeyframeValue = (keyframes: Keyframes, percent: number, property: string): any => {\n    const keyframePercents = Object.keys(keyframes);\n    const previousPercent = keyframePercents.findIndex(e => parseInt(e) === percent) - 1;\n    const previousKeyframe = keyframes[keyframePercents[previousPercent]];\n    if (previousKeyframe) {\n        if (typeof previousKeyframe === 'number' || typeof previousKeyframe === 'string') {\n            return previousKeyframe;\n        }\n        return previousKeyframe[property];\n    }\n    return false;\n};\n","import Keyframe from './Keyframe';\nimport Keyframes from './Keyframes';\nimport Point from './Point';\nimport { camelToKebabCase, closest, getElementDefaultProperty, getUnit, getValue, kebabToCamelCase, loopWhile, percentFrom, previousKeyframeValue, sliceFromPercent } from './utils';\n\nexport default class Animation {\n    public uid: number;\n    public startPoint: number;\n    public endPoint: number;\n    public element: HTMLElement;\n    public keyframes: Keyframes;\n    constructor(startPoint: Point, endPoint: Point, element: HTMLElement, keyframes: Keyframes) {\n        if (!startPoint || !endPoint || !element || !keyframes || !Object.keys(keyframes)) {\n            throw new Error('startPoint endPoint element keyframes must be specified!');\n        }\n        this.uid = Math.random() * 100000000; // basic uid\n        this.startPoint = startPoint.getPosition();\n        this.endPoint = endPoint.getPosition();\n        this.element = element;\n        this.keyframes = keyframes;\n        for (const keyframePercent of Object.keys(this.keyframes)) {\n            const keyframe = this.keyframes[keyframePercent];\n            for (const keyframeProperty of Object.keys(keyframe)) {\n                const keyframeStyle = keyframe[keyframeProperty];\n                const previousKeyframe = previousKeyframeValue(this.keyframes, parseInt(keyframePercent), keyframeProperty);\n                let to = null;\n                let from = null;\n                if (typeof keyframeStyle === 'string' || typeof keyframeStyle === 'number') {\n                    to = getValue(keyframeStyle);\n                    from = getElementDefaultProperty(this.element, keyframeProperty);\n                } else {\n                    if (!keyframeStyle.hasOwnProperty('to')) {\n                        throw new Error(`${keyframeProperty} doesn't have 'to' property!`);\n                    } else {\n                        to = keyframeStyle.to;\n                    }\n                }\n                if (keyframe[keyframeProperty].from) {\n                    from = keyframeStyle.from;\n                } else if (previousKeyframe) {\n                    from = previousKeyframe.to;\n                } else {\n                    from = getElementDefaultProperty(this.element, keyframeProperty);\n                }\n                this.keyframes[keyframePercent][keyframeProperty] = {\n                    from: getValue(from),\n                    to: getValue(to),\n                    unit: keyframeStyle.unit || getUnit(from) || getUnit(to) || previousKeyframe.unit, // to and from unit should be equal\n                };\n            }\n        }\n        console.log(this.keyframes);\n    }\n    public apply = (): void => {\n        const scroll = window.scrollY;\n        if (scroll >= this.startPoint && scroll <= this.endPoint) {\n            const currentScroll: number = scroll - this.startPoint;\n            const maxScroll: number = this.endPoint - this.startPoint;\n            const percent: number = percentFrom(currentScroll, maxScroll);\n            const keyframePercentIndex: number = closest(percent, Object.keys(this.keyframes));\n            loopWhile(Object.keys(this.keyframes), i => i < keyframePercentIndex, i => {\n                this.setAttributes(this.keyframes[Object.keys(this.keyframes)[i]], 100);\n            });\n            this.applyKeyframe(keyframePercentIndex, currentScroll, maxScroll);\n        } else { // apply all keyframes if scroll is over the end point\n            if (scroll < this.endPoint) {\n                this.setAttributes(this.keyframes[Object.keys(this.keyframes)[0]], 0);\n            } else {\n                this.setAttributes(this.keyframes[Object.keys(this.keyframes)[Object.keys(this.keyframes).length - 1]], 100);\n            }\n        }\n    }\n    public setAttributes = (keyframe: Keyframe, percent: number) => {\n        for (let attribute in keyframe) {\n            if (keyframe.hasOwnProperty(attribute)) {\n                const keyframeStyle = keyframe[attribute];\n                attribute = camelToKebabCase(attribute);\n                const { to, from, unit } = keyframeStyle;\n                this.element.style[attribute] = from + sliceFromPercent(to - from, percent) + unit;\n            }\n        }\n    }\n    private applyKeyframe = (keyframePercentIndex: number, currentScroll: number, maxScroll: number): void => {\n        const keyframe: Keyframe = this.keyframes[Object.keys(this.keyframes)[keyframePercentIndex]]; // needs refactoring because it is very confusing\n        if (!keyframe) { return; }\n        const startKeyframePositon = sliceFromPercent(maxScroll, parseInt(Object.keys(this.keyframes)[keyframePercentIndex - 1]) || 0);\n        const endKeyframePositon = sliceFromPercent(maxScroll, parseInt(Object.keys(this.keyframes)[keyframePercentIndex]));\n        const keyframePercent = percentFrom(currentScroll - startKeyframePositon, endKeyframePositon - startKeyframePositon);\n        this.setAttributes(keyframe, keyframePercent);\n    }\n}\n","export default class Point {\n    public point: number | HTMLElement;\n    constructor(point: number | HTMLElement) {\n        this.point = point;\n    }\n    public getPosition = (isHorizontal = false): number => {\n        if (this.point instanceof HTMLElement) {\n            const rect = this.point.getBoundingClientRect();\n            return (isHorizontal ? rect.left + window.scrollX : rect.top + window.scrollY);\n        }\n        return this.point;\n    }\n}\n","import Animation from './Animation';\nimport Point from './Point';\n\nexport default class Motus {\n    public Animation = Animation;\n    public Point = Point;\n    private animations: Animation[] = [];\n    constructor() {\n        window.addEventListener('scroll', () => {\n            this.animations.forEach(e => e.apply());\n        });\n    }\n    /**Register new animation\n     * @param  {Animation} animation\n     * @returns void\n     */\n    public addAnimation = (animation: Animation): void => {\n        this.animations.push(animation);\n        animation.apply(); // initial apply\n    }\n\n    /**Delete animation\n     * @param  {number} uid Animation uid\n     * @returns void\n     */\n    public removeAnimation = (uid: number): void => {\n        const index = this.animations.findIndex(e => e.uid === uid);\n        this.animations.splice(index, 1);\n    }\n}\n","import Motus from './Motus';\n\ndeclare global {\n    interface Window { Motus: Motus; }\n}\n\nwindow.Motus = new Motus();\n\nexport default Motus;\n"]}